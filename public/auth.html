<!-- public/auth.html -->
<!doctype html>
<html lang="ja">
<meta charset="utf-8" />
<title>Auth POST (static)</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<body style="font-family: system-ui; line-height:1.6; padding:24px">
  <h1>Auth POST (static)</h1>
  <p>このフォームは Next.js を経由せず、絶対URLで /api/auth-start に <b>POST</b> します。</p>

  <!-- ★絶対URLにPOST（これで必ず /api/auth-start が叩かれます） -->
  <form action="https://bot-protection-ten.vercel.app/api/auth-start" method="post">
    <input type="hidden" name="shop" value="ruhra-store.myshopify.com" />
    <button type="submit" style="padding:8px 16px;">OAuth 開始（サーバ経由・state Cookie 発行→302）</button>
  </form>

  <p style="margin-top:12px">
    送信後は Shopify の認可画面へリダイレクトされます。承認すると<br>
    <code>/api/auth/callback</code> に戻り、可視化JSONで <code>hmacOk: true</code> と
    <code>cookieState === state</code> になっているはずです。
  </p>
</body>
</html>
